{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <!-- Introduction section on the left -->
        <div class="col-md-5">
            <h2>Welcome to Pasta Predictor</h2>
            <p>Use this tool to predict pasta sales based on historical data.</p>
            
            <p class="font-weight-bold">Just select your brand, enter the pasta number, and choose your prediction period. Try it now!</p>
            <div class="alert alert-secondary mt-4" role="alert">
                <p>Note: The selection of specific pasta number contains range</p>
                <p>B1: 1 to 42</p>
                <p>B2: 1 to 45</p>
                <p>B3: 1 to 21</p>
                <p>B4: 1 to 10</p>
                
            </div>
        </div>
        
        <!-- Prediction functions on the right -->
        <div class="col-md-6">
            <h2>Predict Pasta Sales</h2>
            <form method="POST">
                {{ form.hidden_tag() }}
                <div class="mb-3">
                    {{ form.brand.label(class="form-label") }}
                    {{ form.brand(class="form-select") }}
                </div>
                <div class="mb-3">
                    {{ form.pasta_number.label(class="form-label") }}
                    {{ form.pasta_number(class="form-control") }}
                </div>
                <div class="mb-3">
                    {{ form.prediction_period.label(class="form-label") }}
                    {{ form.prediction_period(class="form-select") }}
                </div>
                {{ form.submit(class="btn btn-primary") }}
            </form>
            <!-- Section to display prediction_text -->
            {% if prediction_text %}
                <div class="alert alert-info mt-4">
                    {{ prediction_text }}
                </div>
            {% endif %}
        </div>
    </div>

  <!-- Chart at the bottom spanning both sections -->
  <div class="row mt-4">
    <div class="col-12">
        <h3 class="text-center">Visualization of the Trend of Pasta Sales in the Future</h3> <!-- Centered Chart title -->
        <!-- Placeholder for the Plotly chart -->
        {% if chart_html %}
            <div>{{ chart_html | safe }}</div>
        {% endif %}
    </div>
</div>
</div>

<!-- Add custom styles -->
{% block styles %}
<style>
 .vertical-line {
        border-left: 2px solid #ddd;
        height: 45%;
        position: absolute;
        left: 48%;
        transform: translateX(-40%);
    }
</style>
{% endblock %}
{% endblock %}